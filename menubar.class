#!/bin/bash
# menubar.class - Menu bar using ba.sh

declare -Ag __MENUBAR___properties=()

__MENUBAR__.property(){
    if [ "$2" = "=" ]; then
        __MENUBAR___properties[$1]="$3"
    else
        echo "${__MENUBAR___properties[$1]}"
    fi
}

# Property accessors
__MENUBAR__.row(){   __MENUBAR__.property row   "$@"; }
__MENUBAR__.width(){ __MENUBAR__.property width "$@"; }
__MENUBAR__.text(){  __MENUBAR__.property text  "$@"; }

# Render method
__MENUBAR__.render(){
    local row=$(__MENUBAR__.row)
    local width=$(__MENUBAR__.width)
    local text="$(__MENUBAR__.text)"
    
    tui.cursor.move $row 1
    tui.color.black
    tui.color.bg_cyan
    
    printf " %-$((width - 2))s " "$text"
    
    tui.color.reset
}
