# view.conf - File viewer handlers for hackfm
# Format: extension command
# Use %f as a placeholder for the filepath; if omitted, filepath is appended at the end
# If command is not found or produces no output, viewer falls back to direct file read

# --- Archives ---
zip       unzip -l %f
jar       unzip -l %f
war       unzip -l %f
ear       unzip -l %f
tar       tar -tvf %f
gz        tar -tzvf %f
tgz       tar -tzvf %f
bz2       tar -tjvf %f
tbz2      tar -tjvf %f
xz        tar -tJvf %f
txz       tar -tJvf %f
7z        7z l %f
rar       unrar l %f
zst       zstd -l %f

# --- Documents ---
pdf       pdftotext -layout %f -
doc       catdoc %f
docx      docx2txt %f -
odt       odt2txt %f
rtf       catdoc %f
xls       xls2csv %f
xlsx      xlsx2csv %f
ods       odt2txt %f
ppt       catppt %f
pptx      pptx2txt %f

# --- Media / Metadata ---
mkv       mkvinfo %f
mka       mkvinfo %f
webm      ffprobe -v quiet -print_format flat -show_format -show_streams %f
mp4       ffprobe -v quiet -print_format flat -show_format -show_streams %f
avi       ffprobe -v quiet -print_format flat -show_format -show_streams %f
mov       ffprobe -v quiet -print_format flat -show_format -show_streams %f
flv       ffprobe -v quiet -print_format flat -show_format -show_streams %f
wmv       ffprobe -v quiet -print_format flat -show_format -show_streams %f
mpg       ffprobe -v quiet -print_format flat -show_format -show_streams %f
mpeg      ffprobe -v quiet -print_format flat -show_format -show_streams %f
mp3       ffprobe -v quiet -print_format flat -show_format -show_streams %f
flac      ffprobe -v quiet -print_format flat -show_format -show_streams %f
ogg       ffprobe -v quiet -print_format flat -show_format -show_streams %f
wav       ffprobe -v quiet -print_format flat -show_format -show_streams %f
aac       ffprobe -v quiet -print_format flat -show_format -show_streams %f
opus      ffprobe -v quiet -print_format flat -show_format -show_streams %f
m4a       ffprobe -v quiet -print_format flat -show_format -show_streams %f

# --- Images ---
jpg       identify -verbose %f
jpeg      identify -verbose %f
png       identify -verbose %f
gif       identify -verbose %f
bmp       identify -verbose %f
tiff      identify -verbose %f
tif       identify -verbose %f
webp      identify -verbose %f
ico       exiftool %f
heic      exiftool %f
heif      exiftool %f
raw       exiftool %f
cr2       exiftool %f
nef       exiftool %f
arw       exiftool %f

# --- Disk images ---
iso       isoinfo -d -i %f

# --- Data formats ---
json      python3 -m json.tool %f
xml       xmllint --format %f
html      w3m -dump %f
htm       w3m -dump %f
csv       column -t -s, %f

# --- Database ---
sqlite    sqlite3 %f .tables
sqlite3   sqlite3 %f .tables
db        sqlite3 %f .tables

# --- Binary / Compiled ---
# Note: .class extension is used by hackfm for bash scripts, so it is intentionally
# not mapped here. Add "class javap -c %f" manually if you need Java bytecode viewing.
pyc       python3 -m dis %f
o         objdump -d %f
so        objdump -d %f
a         objdump -d %f
elf       readelf -h %f

# --- Certificates / Keys ---
pem       openssl x509 -noout -text -in %f
crt       openssl x509 -noout -text -in %f
cer       openssl x509 -noout -text -in %f
csr       openssl req -noout -text -in %f
p12       openssl pkcs12 -info -nokeys -in %f

# --- Packages ---
deb       dpkg -I %f
rpm       rpm -qip %f
apk       unzip -l %f
